# 商品故事/背景墙功能

## 功能简介

为交易平台添加了"商品故事/背景墙"功能，让卖家可以分享商品背后的故事，增加商品的情感价值和吸引力。

## 功能特点

1. **可选输入**：发布商品时可以选择性地填写商品故事
2. **美观展示**：在商品详情页以特殊的渐变背景卡片样式展示故事
3. **情感连接**：帮助买家更好地了解商品，增加交易成功率

## 数据库更新

### Supabase 数据库

需要在 Supabase 数据库中添加 `story` 列。执行以下 SQL 脚本：

```sql
-- 在 Supabase Dashboard 的 SQL Editor 中执行
ALTER TABLE items 
ADD COLUMN IF NOT EXISTS story TEXT;

COMMENT ON COLUMN items.story IS '商品故事/背景，卖家可以分享商品背后的故事';
```

或者直接执行项目根目录下的 `ADD_STORY_COLUMN.sql` 文件。

### Room 数据库

Room 数据库会自动迁移（因为使用了默认值），无需手动操作。

## 使用说明

### 发布商品时

1. 在发布商品页面，会看到新增的"商品故事（可选）"输入框
2. 可以分享商品背后的故事，例如：
   - "陪伴我大学四年的笔记本，见证了我的成长..."
   - "这是我在日本旅行时购买的纪念品..."
   - "因为搬家不得不转让，希望找到有缘人..."

### 查看商品时

1. 在商品详情页，如果商品有故事，会在描述下方以特殊的渐变背景卡片展示
2. 卡片包含：
   - 故事图标
   - "商品故事"标题
   - 故事内容（行间距优化，便于阅读）

## UI 设计

- **发布页面**：多行文本输入框，带有提示文字
- **详情页面**：渐变背景卡片，使用主题色，圆角设计，突出显示

## 技术实现

- 数据层：在 `Item`、`ItemEntity`、`SupabaseItem` 中添加 `story` 字段
- UI 层：在 `PostItemScreen` 添加输入框，在 `ItemDetailScreen` 添加展示卡片
- ViewModel：更新 `postItem` 方法支持 `story` 参数

## 注意事项

1. 如果 Supabase 数据库未添加 `story` 列，商品仍可正常发布和查看，但故事信息不会同步到云端
2. 本地数据库会自动处理新字段（使用默认值）
3. 故事字段为可选，不影响现有功能



